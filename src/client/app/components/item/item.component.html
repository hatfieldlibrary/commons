<!--
  ~ Copyright (c) 2017.
  ~
  ~   This program is free software: you can redistribute it and/or modify
  ~    it under the terms of the GNU General Public License as published by
  ~    the Free Software Foundation, either version 3 of the License, or
  ~    (at your option) any later version.
  ~
  ~    This program is distributed in the hope that it will be useful,
  ~    but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~    GNU General Public License for more details.
  ~
  ~   You should have received a copy of the GNU General Public License
  ~    along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->
<div fxLayout="row" fxHide fxShow.gt-sm="true" fxLayoutAlign="left center" style="position:absolute;top:30px;">

  <a md-button [routerLink]="getBackLink()" style="border: 1px solid #ccc;">
    <md-icon><back-black-svg></back-black-svg></md-icon>&nbsp;Back to List
  </a>
</div>

<div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" fxLayoutGap.gt-md="0">

  <div fxFlex="80"
       fxShow="true"
       fxHide.gt-sm="true">

    <item-links
      [restricted]="item?.collection.restricted"
      [linkOptions]="item?.collection.linkOptions"
      [assetType]="item?.collection.assetType"
      [searchOptions]="item?.collection.searchOptions"
      [url]="item?.collection.url"
      [searchUrl]="item?.collection.searchUrl">
    </item-links>
  </div>

  <div fxFlex="100"
       fxFlex.md="60"
       fxFlex.lg="60"
       fxFlex.gt-lg="50">

    <md-card-title fxHide="true" fxShow.gt-sm="true" style="margin-top: 20px;">
      {{item?.collection.title}}
    </md-card-title>

    <p [innerHTML]="item?.collection.desc" style="font-size: 1.2em"></p>

    <md-list>
      <md-list-item *ngIf="item?.collection.dates">
        <div fxLayout="row" fxFlexAlign="center">
          <h4>Dates: </h4>
          <h4 style="color: #666;margin-left: 12px;">
            {{item?.collection.dates}}
          </h4>
        </div>
      </md-list-item>
      <md-list-item *ngIf="item?.collection.items">
        <div fxLayout="row">
          <h4>Item Count: </h4>
          <h4 style="color: #666;margin-left: 12px;">
            {{item?.collection.items}}
          </h4>
        </div>
      </md-list-item>
    </md-list>

  </div>

  <div class="fill-remaining-space"></div>

  <div fxFlex
       fxFlex.sm="35"
       fxFlex.md="35"
       fxFlex.gt-md="30"
       fxShow="false"
       fxShow.gt-sm="true">

    <item-links
      [restricted]="item?.collection.restricted"
      [linkOptions]="item?.collection.linkOptions"
      [assetType]="item?.collection.assetType"
      [searchOptions]="item?.collection.searchOptions"
      [url]="item?.collection.url"
      [searchUrl]="item?.collection.searchUrl">

    </item-links>
  </div>
</div>

<md-divider style="margin: 40px 0"></md-divider>

<div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" fxLayoutGap.gt-sm="40" style="margin-top: 50px;">

  <div fxFlex="100"
       fxFlex.md="60"
       fxFlex.lg="60"
       fxFlex.gt-lg="50">

    <md-card-subtitle>This collection is part of</md-card-subtitle>
    <md-card-title>{{item?.category?.title}}</md-card-title>

    <p [innerHTML]="item?.category?.description" style="font-size: 1.2em"></p>

    <a md-raised-button color="accent" class="accent-button" href="{{item?.category?.url}}"
       target="_blank">{{item?.category?.linkLabel}}</a>

  </div>
  <div class="fill-remaining-space"></div>

  <div fxFlex
       fxFlex.sm="35"
       fxFlex.md="35"
       fxFlex.gt-md="30"
       fxShow="false"
       fxShow.gt-sm="true"
       *ngIf="item?.category?.id === 1 || item?.category?.id === 7">

    <md-list>
      <md-list-item>
        <a md-button style="width:100%" href="http://libmedia.willamette.edu/commons/info/thesis" target="_blank">
          <div fxLayout="row" fxLayoutAlign="start center">
            <info-svg></info-svg>
            Submission Instructions
          </div>
        </a>
      </md-list-item>
      <md-list-item>
        <a md-button style="width:100%"
           href="http://library.willamette.edu/guide_on_the_side/tutorial/academic-commons-submission" target="_blank">
          <div fxLayout="row" fxLayoutAlign="start center">
            <run-svg></run-svg>
            Tutorial
          </div>
        </a>
      </md-list-item>
    </md-list>
  </div>

</div>




