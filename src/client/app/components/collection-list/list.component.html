<!--
  ~ Copyright (c) 2017.
  ~
  ~   This program is free software: you can redistribute it and/or modify
  ~    it under the terms of the GNU General Public License as published by
  ~    the Free Software Foundation, either version 3 of the License, or
  ~    (at your option) any later version.
  ~
  ~    This program is distributed in the hope that it will be useful,
  ~    but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~    GNU General Public License for more details.
  ~
  ~   You should have received a copy of the GNU General Public License
  ~    along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="container" [ngClass]="{'mobile-padding': isMobile}">
  <div class="chips" *ngIf="selectedSubject?.id!==0">
    <div fxLayout="row" fxLayoutAlign="start center">
      <div class="mat-body-2 subject-label"
           [ngClass]="{'mobile-subject-label': isMobile}"
      >SUBJECT:&nbsp;&nbsp;</div>
      <mat-chip-list>
        <mat-chip class="subject-chip" selected="true"
                  color="default"
                  (click)="deselect()">
          <app-icon-close-white class="subject-icon"></app-icon-close-white>
          {{selectedSubject?.name}}
        </mat-chip>
      </mat-chip-list>
    </div>
  </div>

  <!--<div style="margin-top: 24px;" *ngIf="collectionList?.length === 0" fxHide.gt-sm style="width:100%;margin-top: 50px;">-->
    <!--<mat-spinner style="width:inherit"></mat-spinner>-->
  <!--</div>-->
  <mat-card-content>
    <mat-list>
      <mat-list-item class="collection-list-item result-info"
                     [ngClass]="{'mobile-list-item-padding': isMobile, 'mobile-item-info-height': isMobile}">
        <span class="mat-caption bold-caption">ITEM COUNT:&nbsp;</span> {{totalResults()}}</mat-list-item>
      <mat-list-item class="collection-list-item result-item"
                     [@fadeIn]
                     [ngClass]="{'mobile-list-item-padding': isMobile}"
                     (click)="navigateToItem(collection.id)"
                     *ngFor="let collection of collectionList | collectionsFilter:filterTerm">
        <div fxLayout="column" [ngClass]="{'mobile-list-container': isMobile}">
          <div><span class="collection-item mat-h3">{{collection.title}}</span></div>
          <div>
            <span class="mat-caption bold-caption">Item Type:</span>
           <span class="mat-caption">{{setAssetType(collection.ctype)}}</span>
          </div>
          <div>
            <span class="mat-caption bold-caption">Availability:</span>
            <span class="mat-caption">{{setAccessStatus(collection.restricted)}}</span>
          </div>
          <div>
            <span class="mat-caption bold-caption ">Content Types:</span>
          <span class="mat-caption" *ngFor="let type of collection.types ; let i = index">
            {{type.name}}<span *ngIf="collection.types.length !== i + 1">,</span></span>
          </div>
        </div>
      </mat-list-item>
    </mat-list>
  </mat-card-content>
</div>
