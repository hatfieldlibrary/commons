<!--
  ~ Copyright (c) 2017.
  ~
  ~   This program is free software: you can redistribute it and/or modify
  ~    it under the terms of the GNU General Public License as published by
  ~    the Free Software Foundation, either version 3 of the License, or
  ~    (at your option) any later version.
  ~
  ~    This program is distributed in the hope that it will be useful,
  ~    but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~    GNU General Public License for more details.
  ~
  ~   You should have received a copy of the GNU General Public License
  ~    along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="container">

  <!--<mat-divider *ngIf="selectedSubject?.id!==0"></mat-divider>-->
  <div class="chips" *ngIf="selectedSubject?.id!==0">
    <div fxLayout="row" fxLayoutAlign="start center">
      <div class="mat-body-2 subject-label">Selected Subject&nbsp;&nbsp;</div>
      <mat-chip-list>
        <mat-chip selected="true"
                  color="default"
                  (click)="deselect()">
          {{selectedSubject?.name}}
          <app-icon-close-white></app-icon-close-white>
        </mat-chip>
      </mat-chip-list>
    </div>
  </div>
  <!--<mat-divider *ngIf="selectedSubject?.id!==0"></mat-divider>-->

  <div style="margin-top: 24px;" *ngIf="collectionList?.length === 0" fxHide.gt-sm style="width:100%;margin-top: 50px;">
    <mat-spinner style="width:inherit"></mat-spinner>
  </div>
  <mat-card-content>
    <mat-list>
      <mat-list-item class="collection-list-item" (click)="navigateToItem(collection.id)"
                     *ngFor="let collection of collectionList | collectionsFilter:filterTerm">
        <div fxLayout="column">
          <div><span class="collection-item mat-h3">{{collection.title}}</span></div>
          <div>
            <span class="mat-caption bold-caption">Item Type:</span>
           <span class="mat-caption">{{setAssetType(collection.ctype)}}</span>
          </div>
          <div>
            <span class="mat-caption bold-caption ">Content Types:</span>
          <span class="mat-caption" *ngFor="let type of collection.types ; let i = index">
            {{type.name}}<span *ngIf="collection.types.length !== i + 1">,</span></span>
          </div>
        </div>
      </mat-list-item>
    </mat-list>
  </mat-card-content>
</div>
