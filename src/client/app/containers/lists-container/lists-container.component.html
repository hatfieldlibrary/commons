<!--
  ~ Copyright (c) 2017.
  ~
  ~   This program is free software: you can redistribute it and/or modify
  ~    it under the terms of the GNU General Public License as published by
  ~    the Free Software Foundation, either version 3 of the License, or
  ~    (at your option) any later version.
  ~
  ~    This program is distributed in the hope that it will be useful,
  ~    but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~    GNU General Public License for more details.
  ~
  ~   You should have received a copy of the GNU General Public License
  ~    along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<app-menus-component
  [selectedArea]="areaId"
  [areaList]="areas$ | async"
  [showBack]="false">
</app-menus-component>

<mat-card class="main-content-area" style="padding:0;">

  <mat-card-content class="list-container">

    <div fxLayout="column" fxLayoutGap.xs="0" fxLayoutGap="32px" fxLayoutAlign="center center">

      <div fxLayout="row"
           fxLayoutAlign="center start"
           fxFlexFill>
        <app-subject-selector
          fxFlex="1 1 100"
          fxFlex.md="1 1 85"
          fxFlex.lg="1 1 75"
          fxFlex.gt-lg="1 1 55"
          (subjectNavigation)="subjectNavigation($event)"
          [subjectList]="subjects$ | async"
          [selectedSubject]="selectedSubject$ | async">
        </app-subject-selector>
      </div>
      <div fxLayout="row"
           fxLayoutWrap
           fxFlexFill
           fxLayoutGap="15px"
           fxLayoutAlign="center start">
        <div fxLayout="column"
             fxFlex.xs="1 1 100"
             fxFlex.sm="1 1 95"
             fxFlex.md="1 1 60"
             fxFlex.lg="1 1 55"
             fxFlex.gt-lg="1 1 40">
          <div class="mat-card info-card">
            <div class="mat-card-header">
              <mat-card-subtitle class="area-info-container" [ngClass]="{'large-device-info': media.isActive('gt-sm')}">
                <app-area-information *ngIf="areaScreen"
                                      [areaInfo]="areaInfo$ | async"></app-area-information>
                <app-home-screen *ngIf="!areaScreen"
                                 (subjectNavigation)="subjectNavigation($event)"></app-home-screen>
              </mat-card-subtitle>
            </div>
            <mat-divider></mat-divider>
            <app-current-filters [filters]="filters$ | async"
                                 (removeFilter)="removeFilter($event)"></app-current-filters>
            <div class="mat-card-content">
              <app-collection-list (subjectNavigation)="subjectNavigation($event)"
                                   (collectionNavigation)="collectionNavigation($event)"
                                   [collectionList]="collections$ | async "
                                   [selectedSubject]="selectedSubject$ | async"></app-collection-list>

            </div>
          </div>
        </div>
        <div fxLayout="column"
             fxFlex.md="1 1 20"
             fxFlex.lg="1 1 15"
             fxFlex.gt-lg="1 1 10"
             class="side-container"
             *ngIf="media.isActive('gt-sm')">
          <div fxLayout="row" fxLayoutAlign="start center">
            <div class="side-nav-header mat-title">FILTERS</div>
            <app-help-svg
              matTooltip="Use these options to explore collections and items in the Academic Commons."
              [matTooltipPosition]="toolTipPosition"></app-help-svg>
          </div>
          <app-search-filter class="filters-margin" [collectionList]="collections$ | async"></app-search-filter>
          <app-navigation-selector
            (areaNavigation)="areaNavigation($event)"
            [filter]="areasFilter$ | async"></app-navigation-selector>
          <app-types (typeNavigation)="typeNavigation($event)"
                     [filter]="typesFilter$ | async"></app-types>
        </div>
      </div>
    </div>
  </mat-card-content>
</mat-card>

<app-footer></app-footer>

