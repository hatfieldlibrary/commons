<!--
  ~ Copyright (c) 2017.
  ~
  ~   This program is free software: you can redistribute it and/or modify
  ~    it under the terms of the GNU General Public License as published by
  ~    the Free Software Foundation, either version 3 of the License, or
  ~    (at your option) any later version.
  ~
  ~    This program is distributed in the hope that it will be useful,
  ~    but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~    GNU General Public License for more details.
  ~
  ~   You should have received a copy of the GNU General Public License
  ~    along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->


<app-menus-component
  [selectedArea]="areaId"
  [areaList]="areas$ | async"
  [showBack]="false">
</app-menus-component>
<!--<app-title-header [title]="title"-->
<!--[subtitle]="subtitle"-->
<!--[subjectList]="subjects$ | async"-->
<!--[areaId]="areaId"-->
<!--[type]="subjectLinkType">-->

<!--</app-title-header>-->

<mat-card class="main-content-area" style="padding:0;">

  <mat-card-content style="background-image: url(/assets/img/masthead-bottom-img.jpg),url(/assets/img/background-grain.jpg);
    background-repeat: no-repeat,repeat-x;
    background-position: top center,top center;">


    <div fxLayout="column" fxLayoutGap="32px" fxLayoutAlign="start center">

      <div fxLayout="row" fxFlexFill fxLayoutAlign="center start">

        <app-subject-selector fxFlex="1 1 85%" [subjectList]="subjects$ | async" [areaId]="areaId"
                              [type]="subjectLinkType"></app-subject-selector>
      </div>

      <div fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="center start">

        <div fxFlex="1 1 85%" fxLayoutGap="30px">

          <div fxLayout="column" fxFlex.gt-sm="1 1 25%" class="side-container" *ngIf="media.isActive('gt-sm')">
            <div class="side-nav-header mat-title">FILTERS</div>
            <app-search-filter [collectionList]="collections$ | async"></app-search-filter>
            <app-navigation-selector [selectedAreas]="areaId" [areaList]="areas$ | async"></app-navigation-selector>
            <app-types [selectedAreas]="areaId" [selectedSubject]="subjectId" [selectedTypes]="selectedTypes"
                       [typeList]="types$ | async"></app-types>
          </div>

          <div fxLayout="column"
               fxFlex.sm="1 1 100%"
               fxFlex.md="1 1 70"
               fxFlex.lg="1 1 70%"
               fxFlex.gt-lg="1 1 50%">

            <!--<div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" fxLayoutAlign="center start"-->
                 <!--fxLayoutGap.gt-sm="30px">-->



                <div class="mat-card info-card">
                  <div class="mat-card-header">
                    <mat-card-subtitle class="area-info">
                      <app-area-information *ngIf="!homeScreen"
                                            [areaInfo]="areaInfo$ | async"></app-area-information>
                      <app-home-screen *ngIf="homeScreen"
                                       (removeSubject)="removeSubject($event)"></app-home-screen>
                    </mat-card-subtitle>
                  </div>
<mat-divider></mat-divider>
                  <div class="mat-card-content">
                    <app-collection-list (removeSubject)="removeSubject($event)"
                                         [collectionList]="collections$ | async "
                                         [selectedSubject]="selectedSubject$ | async"
                                         [selectedArea]="areaId"></app-collection-list>

                  </div>
                </div>
              </div>
            <!--</div>-->
          </div>
        </div>
      </div>

  </mat-card-content>
</mat-card>

<app-footer></app-footer>

